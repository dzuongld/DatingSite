<!-- <form #registerForm="ngForm" (ngSubmit)="register()" > -->
<form
    [formGroup]="registerForm"
    (ngSubmit)="register()"
>
    <h2 class="text-center text-primary">Sign Up</h2>
    <hr>

    <!-- gender -->
    <div class="form-group">
        <label
            class="control-label"
            style="margin-right:10px"
        >I am a: </label>
        <label class="radio-inline">
            <input
                class="mr-3"
                type="radio"
                value="male"
                formControlName="gender"
            >Male
        </label>
        <label class="radio-inline ml-3">
            <input
                class="mr-3"
                type="radio"
                value="female"
                formControlName="gender"
            >Female
        </label>
    </div>

    <!-- Username -->
    <!-- 'required' is not needed as validation is done inside component -->
    <!-- ngModel is not needed for reactiveform -->
    <!-- 'name' => 'formControlName' -->
    <div class="form-group">
        <input
            type="text"
            class="form-control"
            [ngClass]="{'is-invalid': registerForm.get('username').touched && registerForm.get('username').errors}"
            placeholder="Username"
            formControlName="username"
        >
        <div class="invalid-feedback">Username is required</div>
    </div>

    <!-- Known As -->
    <div class="form-group">
        <input
            [ngClass]="{'is-invalid': registerForm.get('knownAs').errors && registerForm.get('knownAs').touched}"
            class="form-control"
            placeholder="Known as"
            formControlName="knownAs"
        >
        <div
            class="invalid-feedback"
            *ngIf="registerForm.get('knownAs').touched && registerForm.get('knownAs').hasError('required')"
        >Known as is required</div>
    </div>

    <!-- Date of birth -->
    <div class="form-group">
        <input
            [ngClass]="{'is-invalid': registerForm.get('dateOfBirth').errors && registerForm.get('dateOfBirth').touched}"
            class="form-control"
            placeholder="Date of Birth"
            formControlName="dateOfBirth"
            type="text"
            bsDatepicker
            [bsConfig]="bsConfig"
        >
        <div
            class="invalid-feedback"
            *ngIf="registerForm.get('dateOfBirth').touched && registerForm.get('dateOfBirth').hasError('required')"
        >Date of Birth is required</div>
    </div>

    <!-- Location -->
    <div class="form-group">
        <input
            [ngClass]="{'is-invalid': registerForm.get('city').errors && registerForm.get('city').touched}"
            class="form-control"
            placeholder="City"
            formControlName="city"
        >
        <div
            class="invalid-feedback"
            *ngIf="registerForm.get('city').touched && registerForm.get('city').hasError('required')"
        >City is required</div>
    </div>

    <div class="form-group">
        <input
            [ngClass]="{'is-invalid': registerForm.get('country').errors && registerForm.get('country').touched}"
            class="form-control"
            placeholder="Country"
            formControlName="country"
        >
        <div
            class="invalid-feedback"
            *ngIf="registerForm.get('country').touched && registerForm.get('country').hasError('required')"
        >Country is required</div>
    </div>

    <!-- Password -->
    <div class="form-group">
        <input
            type="password"
            class="form-control"
            [ngClass]="{'is-invalid': registerForm.get('password').touched && registerForm.get('password').errors}"
            placeholder="Password"
            formControlName="password"
        >
        <div
            class="invalid-feedback"
            *ngIf="registerForm.get('password').touched && registerForm.get('password').hasError('required')"
        >Password is required</div>
        <div
            class="invalid-feedback"
            *ngIf="registerForm.get('password').touched && registerForm.get('password').hasError('minlength')"
        >Password must be at least 8 characters</div>
    </div>

    <!-- Confirm password -->
    <div class="form-group">
        <input
            type="password"
            class="form-control"
            [ngClass]="{'is-invalid': registerForm.get('confirmPassword').touched && registerForm.get('confirmPassword').errors || registerForm.get('confirmPassword').touched && registerForm.hasError('mismatch')}"
            placeholder="Confirm Password"
            formControlName="confirmPassword"
        >
        <div
            class="invalid-feedback"
            *ngIf="registerForm.get('confirmPassword').touched && registerForm.get('confirmPassword').hasError('required')"
        >Confirm Password is required</div>
        <div
            class="invalid-feedback"
            *ngIf="registerForm.get('confirmPassword').touched && registerForm.hasError('mismatch')"
        >Password does not match</div>
    </div>

    <div class="form-group text-center">
        <button
            class="btn btn-success mr-2"
            type="submit"
            [disabled]="registerForm.invalid"
        >Register</button>
        <button
            class="btn btn-secondary"
            type="button"
            (click)="cancel()"
        >Cancel</button>
    </div>

</form>